<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ò–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –Ω–µ–π—Ä–æ–Ω–∞</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 800px; margin: 20px auto; padding: 0 20px; line-height: 1.6; }
    h2 { margin-top: 40px; }
    .slider-group { margin-bottom: 20px; }
    .slider-group label { display: block; margin-bottom: 5px; }
    .result { font-size: 1.2em; margin-top: 10px; }
    .section { border: 1px solid #ccc; border-radius: 8px; padding: 20px; margin-bottom: 30px; box-shadow: 2px 2px 8px rgba(0,0,0,0.1); }
    .emoji { font-size: 1.2em; vertical-align: middle; }
  </style>
</head>
<body>
  <h1>–ò–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –Ω–µ–π—Ä–æ–Ω–∞</h1>
  <div class="section" id="single-neuron">
    <h2>1. –û–¥–∏–Ω –Ω–µ–π—Ä–æ–Ω (–≤—Ö–æ–¥—ã √ó –≤–µ—Å–∞ + —Å–º–µ—â–µ–Ω–∏–µ ‚Üí –∞–∫—Ç–∏–≤–∞—Ü–∏—è)</h2>
    <div class="slider-group">
      <label>–í—Ö–æ–¥ 1 (x‚ÇÅ) ‚úâÔ∏è: <span id="in1-val">1</span></label>
      <input type="range" id="in1" min="0" max="10" step="0.1" value="1">
    </div>
    <div class="slider-group">
      <label>–í–µ—Å 1 (w‚ÇÅ) ‚öñÔ∏è: <span id="w1-val">0.5</span></label>
      <input type="range" id="w1" min="0" max="1" step="0.01" value="0.5">
    </div>
    <div class="slider-group">
      <label>–í—Ö–æ–¥ 2 (x‚ÇÇ) ‚úâÔ∏è: <span id="in2-val">5</span></label>
      <input type="range" id="in2" min="0" max="10" step="0.1" value="5">
    </div>
    <div class="slider-group">
      <label>–í–µ—Å 2 (w‚ÇÇ) ‚öñÔ∏è: <span id="w2-val">0.9</span></label>
      <input type="range" id="w2" min="0" max="1" step="0.01" value="0.9">
    </div>
    <div class="slider-group">
      <label>–°–º–µ—â–µ–Ω–∏–µ (bias) üéõÔ∏è: <span id="b-val">-2</span></label>
      <input type="range" id="b" min="-10" max="10" step="0.1" value="-2">
    </div>
    <div>
      <label>–§—É–Ω–∫—Ü–∏—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ ‚ö°:</label>
      <select id="activation">
        <option value="step">–®–∞–≥–æ–≤–∞—è (Threshold)</option>
        <option value="relu">ReLU</option>
        <option value="sigmoid">Sigmoid</option>
      </select>
    </div>
    <div class="result">
      –°—É–º–º–∞ –≤–∑–≤–µ—à–µ–Ω–Ω—ã—Ö –≤—Ö–æ–¥–æ–≤: <span id="sum-val">0</span><br>
      –í—ã–≤–æ–¥ –Ω–µ–π—Ä–æ–Ω–∞: <span id="out-val">0</span>
    </div>
  </div>

  <div class="section" id="softmax-demo">
    <h2>2. –ü—Ä–∏–º–µ—Ä Softmax (–º—É–ª—å—Ç–∏–∫–ª–∞—Å—Å–æ–≤–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)</h2>
    <div class="slider-group">
      <label>–ë–∞–ª–ª—ã: –ü–∏—Ü—Ü–∞ üçï: <span id="s1-val">10</span></label>
      <input type="range" id="s1" min="0" max="20" step="1" value="10">
    </div>
    <div class="slider-group">
      <label>–ë–∞–ª–ª—ã: –°—É—à–∏ üç£: <span id="s2-val">5</span></label>
      <input type="range" id="s2" min="0" max="20" step="1" value="5">
    </div>
    <div class="slider-group">
      <label>–ë–∞–ª–ª—ã: –°–∞–ª–∞—Ç ü•ó: <span id="s3-val">1</span></label>
      <input type="range" id="s3" min="0" max="20" step="1" value="1">
    </div>
    <div class="result">
      –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –ø–æ—Å–ª–µ Softmax:<br>
      –ü–∏—Ü—Ü–∞: <span id="p1">0</span>%<br>
      –°—É—à–∏: <span id="p2">0</span>%<br>
      –°–∞–ª–∞—Ç: <span id="p3">0</span>%
    </div>
  </div>

  <script>
    // –§—É–Ω–∫—Ü–∏–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
    function step(x) { return x > 0 ? 1 : 0; }
    function relu(x) { return Math.max(0, x); }
    function sigmoid(x) { return 1 / (1 + Math.exp(-x)); }
    function softmax(arr) {
      const exps = arr.map(v => Math.exp(v));
      const sum = exps.reduce((a,b) => a+b, 0);
      return exps.map(v => v / sum);
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ –Ω–µ–π—Ä–æ–Ω–∞
    function updateNeuron() {
      const x1 = parseFloat(document.getElementById('in1').value);
      const w1 = parseFloat(document.getElementById('w1').value);
      const x2 = parseFloat(document.getElementById('in2').value);
      const w2 = parseFloat(document.getElementById('w2').value);
      const b  = parseFloat(document.getElementById('b').value);
      const act = document.getElementById('activation').value;
      // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–µ–π–±–ª–æ–≤
      document.getElementById('in1-val').innerText = x1;
      document.getElementById('w1-val').innerText = w1;
      document.getElementById('in2-val').innerText = x2;
      document.getElementById('w2-val').innerText = w2;
      document.getElementById('b-val').innerText  = b;
      
      const sum = x1*w1 + x2*w2 + b;
      let out;
      if (act === 'step') out = step(sum);
      else if (act === 'relu') out = relu(sum);
      else if (act === 'sigmoid') out = sigmoid(sum).toFixed(3);

      document.getElementById('sum-val').innerText = sum.toFixed(3);
      document.getElementById('out-val').innerText = out;
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Softmax
    function updateSoftmax() {
      const s1 = parseFloat(document.getElementById('s1').value);
      const s2 = parseFloat(document.getElementById('s2').value);
      const s3 = parseFloat(document.getElementById('s3').value);
      document.getElementById('s1-val').innerText = s1;
      document.getElementById('s2-val').innerText = s2;
      document.getElementById('s3-val').innerText = s3;
      const ps = softmax([s1, s2, s3]);
      document.getElementById('p1').innerText = (ps[0]*100).toFixed(1);
      document.getElementById('p2').innerText = (ps[1]*100).toFixed(1);
      document.getElementById('p3').innerText = (ps[2]*100).toFixed(1);
    }

    // –ü—Ä–∏–≤—è–∑–∫–∞ —Å–æ–±—ã—Ç–∏–π
    ['in1','w1','in2','w2','b','activation'].forEach(id => {
      document.getElementById(id).addEventListener('input', updateNeuron);
    });
    ['s1','s2','s3'].forEach(id => {
      document.getElementById(id).addEventListener('input', updateSoftmax);
    });

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    updateNeuron();
    updateSoftmax();
  </script>
</body>
</html>